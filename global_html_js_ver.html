<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sezmiee International Tours (Vanilla)</title>
  <!-- Tailwind CDN (for existing utility classes) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- QRCode (UMD) -->
  <script src="https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js"></script>
  <style>
    /* Simple fade-up animation to mimic framer-motion */
    .fade-up{opacity:0;transform:translateY(10px);transition:opacity .4s ease,transform .4s ease}
    .fade-up.show{opacity:1;transform:translateY(0)}
    /* Button focus */
    button:focus{outline:2px solid #000; outline-offset:2px}
  </style>
<style>body{background-color:#ffffff !important;}</style>
<style>
  /* Fix subtle line showing under header wave */
  section.relative svg {
    display:block;
    border:none;
    margin:0;
    padding:0;
  }
  section.relative::after {
    content:none !important;
  }
</style>
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="mx-auto max-w-6xl p-6 space-y-8" id="app">
    <!-- Header -->
    <section class="relative -mx-6 md:-mx-12">
      <div class="absolute inset-0">
        <img src="https://images.unsplash.com/photo-1601721826401-c5e789be0be6?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1740" alt="Korean Traditional Street" class="w-full h-full object-cover" referrerpolicy="no-referrer">
        <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-black/30 to-transparent"></div>
      </div>
      <div class="relative z-10 px-6 md:px-12 py-8 md:py-10 min-h-[220px] md:min-h-[260px] text-white pb-16">
        <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-3">
          <div>
            <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight drop-shadow-[0_3px_10px_rgba(0,0,0,0.7)]">SEZMIEE International <span class="text-white/90">Tours</span></h1>
            <p class="mt-1 text-white/90 text-sm md:text-base drop-shadow-[0_2px_6px_rgba(0,0,0,0.6)]">Feel the Seoul Beat Â· Tours designed for the curious and the bold.</p>
          </div>
          <div class="text-left md:text-right text-xs md:text-sm text-white/90 space-y-1 drop-shadow-[0_1px_6px_rgba(0,0,0,0.5)]">
            <a href="mailto:sezmiee.project@gmail.com" class="hover:underline">ğŸ“§ sezmiee.project@gmail.com</a>
            <div><a href="tel:+821049648503" class="hover:underline">ğŸ“ (whatsapp/kakaotalk)+82 10-4964-8503</a></div>
          </div>
        </div>
      </div>
      <svg viewBox="0 0 1440 80" preserveAspectRatio="none" class="absolute bottom-0 left-0 w-full h-[70px] text-white pointer-events-none select-none"><path fill="currentColor" d="M0,36 C180,60 360,10 540,22 C720,34 840,70 1020,58 C1200,46 1320,14 1440,32 L1440,80 L0,80 Z"/></svg>
    </section>

    <!-- Advanced Search -->
    <section class="rounded-3xl border bg-white/80 backdrop-blur p-4 md:p-6 shadow-sm" id="advSection"></section>

    <!-- Toolbar -->
    <section id="toolbar"></section>

    <!-- Cards -->
    <section id="cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></section>

    <!-- Why Us -->
    <section id="why" class="rounded-3xl border p-6 bg-white"></section>

    <!-- FAQ -->
    <section id="faq" class="rounded-3xl border p-6 bg-white"></section>

    <!-- Contact -->
    <section id="contact" class="rounded-3xl border p-6 bg-white"></section>

    <!-- Inbox Preview -->
    <section id="inboxWrap" class="hidden rounded-3xl border p-6 bg-white/60">
      <h3 class="font-semibold mb-3">Inbox Preview</h3>
      <div id="inboxList" class="space-y-3"></div>
    </section>

    <!-- Footer -->
    <footer class="py-10 text-center text-xs text-gray-500" id="footer"></footer>
  </main>

  <script>
  // ======= Data & i18n =======
  const tours = [
    {id:"t1",name:"Seoul Instagrammable CafÃ©-Hop Tour",slug:"seoul-instagrammable-cafe-hop",priceKRW:45000,duration:"3h",area:"Seoul Â· Seongsu & Ikseon",tags:["CafÃ©","Photo","City"],heroImg:"https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/202304/28/e64f80cd-4ecf-4d9d-ae93-563e12f0bca5.jpg",short:"3 popular IG-worthy cafÃ©s + photo walk.",schedule:"Meet 10:00 â†’ CafÃ© A â†’ CafÃ© B â†’ Photo walk â†’ CafÃ© C",meetPoint:"Seongsu Station Exit 3",meetMapUrl:"https://map.naver.com/v5/search/%EC%84%B1%EC%88%98%EC%97%AD%203%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t2",name:"Seoul Hidden-Gem City Walk Experience",slug:"seoul-hidden-gem-city-walk",priceKRW:52000,duration:"3h",area:"Seoul Â· Ikseon & Bukchon",tags:["Local","City","Culture"],heroImg:"https://alovelettertoasia.com/wp-content/uploads/2023/08/ikeson-dong-seoul-itinerary.jpg",short:"Lesser-known alleys with a local guide.",schedule:"14:00 start â†’ Ikseon alleys â†’ Bukchon photo â†’ Local cafÃ©",meetPoint:"Jongno 3-ga Station Exit 4",meetMapUrl:"https://map.naver.com/v5/search/%EC%A2%85%EB%A1%9C3%EA%B0%80%EC%97%AD%204%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t3",name:"Seoul Trendspotting Photo-Tour",slug:"seoul-trendspotting-photo-tour",priceKRW:65000,duration:"3h",area:"Seoul Â· DDP & Euljiro",tags:["Photo","Design","City"],heroImg:"https://images.locationscout.net/2020/02/dongdaemun-design-plaza-seoul-korea.jpg?h=500&q=60",short:"Pro photographer + on-trend spaces.",schedule:"09:30 depart â†’ Cheonggyecheon snaps â†’ Sewoon spot â†’ DDP exterior",meetPoint:"Dongdaemun History & Culture Park Exit 1",meetMapUrl:"https://map.naver.com/v5/search/%EB%8F%99%EB%8C%80%EB%AC%B8%EC%97%AD%20%EC%97%AD%EC%82%AC%EB%AC%B8%ED%99%94%EA%B3%B5%EC%9B%90%EC%97%AD%201%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t4",name:"Seoul Popup-Culture Hopping Tour",slug:"seoul-popup-culture-hopping",priceKRW:58000,duration:"3h",area:"Seoul Â· Various",tags:["Pop-up","Culture","City"],heroImg:"https://mediahub.seoul.go.kr/uploads/mediahub/2023/12/YTrpdZJoubNBZzmNkOXiAASqkGtyReSQ.png",short:"Pop-ups, street art, flea markets + creators.",schedule:"13:00 start â†’ Hot pop-up â†’ Street-art photo â†’ Flea/check",meetPoint:"To be confirmed (varies by pop-up)",meetMapUrl:"#",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t5",name:"Seoul Lifestyle Travel Outing",slug:"seoul-lifestyle-travel-outing",priceKRW:39000,duration:"3h",area:"Seoul Â· Hangang",tags:["Relax","Nature","Photo"],heroImg:"https://travel-stained.com/wp-content/uploads/2017/07/DSC03218-e1556866530460.jpg",short:"CafÃ© chill + Hangang walk + photo spots.",schedule:"16:00 start â†’ CafÃ© break â†’ Hangang walk & photo â†’ Sunset",meetPoint:"Yeouinaru Station Exit 2",meetMapUrl:"https://map.naver.com/v5/search/%EC%97%AC%EC%9D%98%EB%82%98%EB%A3%8C%EC%97%AD%202%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t6",name:"Seoul Demon Tour: K-Pop & Night Walk",slug:"seoul-demon-tour-kpop-night",priceKRW:72000,duration:"3h",area:"Seoul Â· Myeongdong & Gangnam",tags:["K-pop","Night","Theme"],heroImg:"https://mediahub.seoul.go.kr/uploads/mediahub/2023/08/QNJXmONxJDrBGLXDeJGlguYoqWGWCYGq.jpg",short:"Myeongdong K-Pop goods + SMTOWN spot + Hangang night view.",schedule:"18:30 start â†’ Myeongdong goods â†’ SMTOWN/Gangnam spot â†’ Hangang night",meetPoint:"Myeongdong Station Exit 6",meetMapUrl:"https://map.naver.com/v5/search/%EB%AA%85%EB%8F%99%EC%97%AD%206%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t7",name:"Gyeonggi Art Village Brunch & CafÃ© Tour",slug:"gyeonggi-art-village-brunch-cafe",priceKRW:78000,duration:"5h",area:"Gyeonggi Â· Paju (Heyri)",tags:["Gyeonggi","Art","Brunch"],heroImg:"https://tour.paju.go.kr/upload/tour/2023/9/14/94325211-7276-4817-8f81-7de085e9ecb3.png",short:"Heyri art village + brunch cafÃ© + gallery stroll.",schedule:"10:00 depart â†’ Heyri stroll â†’ Brunch cafÃ© â†’ Gallery photo",meetPoint:"Heyri Art Village Gate",meetMapUrl:"https://map.naver.com/v5/search/%ED%97%A4%EC%9D%B4%EB%A6%AC%20%EC%95%84%ED%8A%B8%20%EB%B9%8C%EB%A6%AC%EC%A7%80",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t8",name:"Hongdae Animation & Game Theme CafÃ© Walking Tour",slug:"hongdae-animation-game-theme-cafe",priceKRW:58000,duration:"3h",area:"Seoul Â· Hongdae",tags:["Anime","Game","Theme"],heroImg:"https://res.klook.com/image/upload/fl_lossy.progressive/q_auto/c_fill%2Cw_750/blogen/2019/07/HONGDAE-SEOUL-3.jpg",short:"Anime/game/webtoon theme cafÃ©s + local game shops.",schedule:"15:00 start â†’ Theme cafÃ© â†’ Street game shop â†’ Photo spot",meetPoint:"Hongik Univ. Station Exit 9",meetMapUrl:"https://map.naver.com/v5/search/%ED%99%8D%EB%8C%80%EC%95%84%ED%95%99%EA%B5%90%EC%97%AD%209%EB%B2%88%EC%B6%9C%EA%B5%AD",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t9",name:"Seoul Nighttime Hidden-Gems Walking Tour",slug:"seoul-nighttime-hidden-gems-walk",priceKRW:52000,duration:"2h",area:"Seoul Â· Naksan & Fortress",tags:["Night","Local","Citywalk"],heroImg:"https://www.newsroad.co.kr/news/photo/202310/25520_36654_2112.jpg",short:"Night walk with a history guide.",schedule:"17:00 start â†’ Naksan light walk â†’ Fortress night path",meetPoint:"Hyehwa Station Exit 2",meetMapUrl:"https://map.naver.com/v5/search/%ED%98%9C%ED%99%94%EC%97%AD%202%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t10",name:"Seoul Heritage & Sunset Photo Tour",slug:"seoul-heritage-sunset-photo",priceKRW:61000,duration:"2.5h",area:"Seoul Â· Jongno",tags:["Photo","Culture","Sunset"],heroImg:"https://rebeladiaries.wordpress.com/wp-content/uploads/2019/01/p1290221.jpg?w=1400",short:"Hanok alleys + sunset with a pro photographer.",schedule:"16:30 start â†’ Jongno hanok alleys â†’ Sunset shooting",meetPoint:"Anguk Station Exit 2",meetMapUrl:"https://map.naver.com/v5/search/%EC%95%99%EA%B5%AD%EC%97%AD%202%EB%B2%88%EC%B6%9C%EA%B5%AC",bookingUrl:"https://www.klook.com/experiment/your-product-link"},
    {id:"t11",name:"Seoul Mountain Hiking Adventure",slug:"seoul-mountain-hiking-adventure",priceKRW:55000,duration:"4â€“5h",area:"Seoul Â· Bukhansan & Inwangsan",tags:["Nature","Activity","Hiking"],heroImg:"https://images.unsplash.com/photo-1709594625919-d95e44a48098?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=870",short:"Seoul Mountain Hiking Adventure â€“ Bukhansan & Inwangsan vistas",schedule:"08:00 meet â†’ transfer to trailhead â†’ hike/Seoul viewpoints â†’ descent & refresh",meetPoint:"To be confirmed(route/season)",meetMapUrl:"#",bookingUrl:"https://www.klook.com/experiment/your-product-link"}
  ];

  const UI = {
    kr: { placeholder: "íƒœê·¸/ì§€ì—­/ì´ë¦„ ê²€ìƒ‰â€¦", search: "ê²€ìƒ‰" },
    en: { placeholder: "Search tags, area, nameâ€¦", search: "Search" },
    es: { placeholder: "Buscar etiquetas, zona, nombreâ€¦", search: "Buscar" },
    zh: { placeholder: "æœç´¢ æ ‡ç­¾/åŒºåŸŸ/åç§°â€¦", search: "æœç´¢" },
    zhHant: { placeholder: "æœå°‹ æ¨™ç±¤/å€åŸŸ/åç¨±â€¦", search: "æœå°‹" },
    ja: { placeholder: "ã‚¿ã‚°/ã‚¨ãƒªã‚¢/åç§°ã‚’æ¤œç´¢â€¦", search: "æ¤œç´¢" },
  };

  const COPY = {
    kr: { adv:{title:"ìƒì„¸ ê²€ìƒ‰",city:"ë„ì‹œ",date:"ì¶œë°œì¼",guests:"ì¸ì›",budget:"ì˜ˆì‚°",search:"ê²€ìƒ‰",cityOpts:["ì„œìš¸","ê²½ê¸°"],paxOpts:["1ëª…","2ëª…","3ëª…","4ëª…","5ëª…+"],budgetOpts:["~50,000ì›","~70,000ì›","~100,000ì›","100,000ì›+"]}, why:{title:"ì™œ Sezmiee International?",pill:"ê°„ë‹¨ Â· ì•ˆì „ Â· ìœ ì—°",a:"í˜„ì§€ ê²€ì¦ ì½”ìŠ¤",b:"íˆ¬ëª…í•œ ê°€ê²©",c:"ìœ ì—°í•œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ"}, faq:{title:"FAQ",q1:"ì˜ˆì•½/ê²°ì œëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",a1:"ë¬¸ì˜ â†’ ê°€ì´ë“œ í™•ì¸ â†’ ì…ê¸ˆ â†’ í™•ì •.",q2:"í”½ì—… ê°€ëŠ¥ ì§€ì—­?",a2:"ì„œìš¸ ì „ì—­ + ê¹€í¬/ì¸ì²œ(ì¼ë¶€ ì¶”ê°€ìš”ê¸ˆ)",q3:"ì·¨ì†Œ ê·œì •?",a3:"7ì¼ ì „ ì „ì•¡ / 3ì¼ ì „ 50% / 24ì‹œê°„ ë‚´ ë¶ˆê°€"}, contact:{title:"ë¬¸ì˜í•˜ê¸°",hours:"í‰ì¼ 10:00â€“18:00 / ìµì˜ì—…ì¼ íšŒì‹ ",name:"ì´ë¦„",email:"ì´ë©”ì¼",subject:"ê´€ì‹¬ ìƒí’ˆ/ë„ì‹œ",message:"ë©”ì‹œì§€",placeholderSubj:"ì˜ˆ: Seoul Demon Tour",placeholderMsg:"ì¼ì •/ì¸ì›/ì˜ˆì‚° ë“± ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”",submit:"ë¬¸ì˜ ì „ì†¡(ë°ëª¨)",note:"ì‹¤ì œ ë©”ì¼ì€ ë°œì†¡ë˜ì§€ ì•Šê³  í•˜ë‹¨ì— ë¯¸ë¦¬ë³´ê¸°ë¡œ ì €ì¥ë©ë‹ˆë‹¤."}, footer:{copy:"Â© 2025 Sezmiee International. ë°ëª¨ â€” ë°±ì—”ë“œ ì—†ìŒ.",quick:"ë¹ ë¥¸ ë§í¬",links:["Tours","Why Us","FAQ","Contact"],policy:"ì •ì±… (ë°ëª¨)",policies:"TOS Â· Privacy Â· Cancellation"} },
    en: { adv:{title:"Search",city:"City",date:"Date",guests:"Guests",budget:"Budget",search:"Search",cityOpts:["Seoul","Gyeonggi"],paxOpts:["1","2","3","4","5+"],budgetOpts:["~50,000â‚©","~70,000â‚©","~100,000â‚©","100,000â‚©+"]}, why:{title:"Why Sezmiee International?",pill:"Simple Â· Safe Â· Flexible",a:"Locally-verified routes",b:"Transparent pricing",c:"Flexible customization"}, faq:{title:"FAQ",q1:"How do I book/pay?",a1:"Inquiry â†’ confirm guide â†’ bank transfer â†’ confirmed.",q2:"Where is pickup available?",a2:"Seoul + Gimpo/Incheon (surcharge in some areas).",q3:"Cancellation policy?",a3:"Full refund up to 7 days; 50% until 3 days; none within 24h."}, contact:{title:"Contact Us",hours:"Weekdays 10:00â€“18:00 / reply next business day",name:"Name",email:"Email",subject:"Tour/City of Interest",message:"Message",placeholderSubj:"e.g., Seoul Demon Tour",placeholderMsg:"Share date/guests/budget, etc.",submit:"Send Inquiry (Demo)",note:"Submissions are saved as a preview; no real email is sent."}, footer:{copy:"Â© 2025 Sezmiee International. Demo only â€” no backend.",quick:"Quick Links",links:["Tours","Why Us","FAQ","Contact"],policy:"Policies (Demo)",policies:"TOS Â· Privacy Â· Cancellation"} },
    es: { adv:{title:"BÃºsqueda",city:"Ciudad",date:"Fecha",guests:"Personas",budget:"Presupuesto",search:"Buscar",cityOpts:["SeÃºl","Gyeonggi"],paxOpts:["1","2","3","4","5+"],budgetOpts:["~50,000â‚©","~70,000â‚©","~100,000â‚©","100,000â‚©+"]}, why:{title:"Â¿Por quÃ© Sezmiee International?",pill:"Simple Â· Seguro Â· Flexible",a:"Rutas verificadas",b:"Precio transparente",c:"PersonalizaciÃ³n flexible"}, faq:{title:"FAQ",q1:"Â¿CÃ³mo reservo/pago?",a1:"Consulta â†’ confirmar guÃ­a â†’ transferencia â†’ confirmado.",q2:"Â¿DÃ³nde hay recogida?",a2:"SeÃºl + Gimpo/Incheon (algunas zonas con recargo).",q3:"Â¿CancelaciÃ³n?",a3:"Reembolso total hasta 7 dÃ­as; 50% hasta 3; no dentro de 24h."}, contact:{title:"Contacto",hours:"Lunâ€“Vie 10:00â€“18:00 / respuesta siguiente dÃ­a hÃ¡bil",name:"Nombre",email:"Correo",subject:"Tour/Ciudad de interÃ©s",message:"Mensaje",placeholderSubj:"p.ej., Seoul Demon Tour",placeholderMsg:"Indica fecha/personas/presupuestoâ€¦",submit:"Enviar consulta (Demo)",note:"Solo vista previa; no se envÃ­a correo."}, footer:{copy:"Â© 2025 Sezmiee International. Solo demo.",quick:"Enlaces rÃ¡pidos",links:["Tours","Why Us","FAQ","Contact"],policy:"PolÃ­ticas (Demo)",policies:"TOS Â· Privacidad Â· CancelaciÃ³n"} },
    zh: { adv:{title:"æœç´¢",city:"åŸå¸‚",date:"æ—¥æœŸ",guests:"äººæ•°",budget:"é¢„ç®—",search:"æœç´¢",cityOpts:["é¦–å°”","äº¬ç•¿"],paxOpts:["1","2","3","4","5+"],budgetOpts:["~50,000â‚©","~70,000â‚©","~100,000â‚©","100,000â‚©+"]}, why:{title:"ä¸ºä»€ä¹ˆé€‰æ‹© Sezmiee International?",pill:"ç®€å• Â· å®‰å…¨ Â· çµæ´»",a:"æœ¬åœ°éªŒè¯è·¯çº¿",b:"é€æ˜å®šä»·",c:"çµæ´»å®šåˆ¶"}, faq:{title:"å¸¸è§é—®é¢˜",q1:"å¦‚ä½•é¢„è®¢/ä»˜æ¬¾ï¼Ÿ",a1:"å’¨è¯¢ â†’ ç¡®è®¤å‘å¯¼ â†’ è½¬è´¦ â†’ ç¡®è®¤ã€‚",q2:"æ¥é€èŒƒå›´ï¼Ÿ",a2:"é¦–å°” + é‡‘æµ¦/ä»å·ï¼ˆéƒ¨åˆ†åŠ ä»·ï¼‰",q3:"å–æ¶ˆæ”¿ç­–ï¼Ÿ",a3:"7å¤©å‰å…¨é€€ï¼›3å¤©å‰50%ï¼›24å°æ—¶å†…ä¸é€€ã€‚"}, contact:{title:"è”ç³»æˆ‘ä»¬",hours:"å·¥ä½œæ—¥10:00â€“18:00 / æ¬¡è¥ä¸šæ—¥å›å¤",name:"å§“å",email:"é‚®ç®±",subject:"æ„å‘è¡Œç¨‹/åŸå¸‚",message:"ç•™è¨€",placeholderSubj:"ä¾‹å¦‚ï¼šSeoul Demon Tour",placeholderMsg:"è¯·æ³¨æ˜æ—¥æœŸ/äººæ•°/é¢„ç®—ç­‰",submit:"å‘é€å’¨è¯¢ï¼ˆæ¼”ç¤ºï¼‰",note:"ä»…ä¿å­˜é¢„è§ˆï¼Œä¸ä¼šå‘é€é‚®ä»¶ã€‚"}, footer:{copy:"Â© 2025 Sezmiee International. æ¼”ç¤ºé¡µé¢ã€‚",quick:"å¿«é€Ÿé“¾æ¥",links:["Tours","Why Us","FAQ","Contact"],policy:"æ”¿ç­–ï¼ˆæ¼”ç¤ºï¼‰",policies:"æ¡æ¬¾ Â· éšç§ Â· å–æ¶ˆ"} },
    zhHant: { adv:{title:"æœå°‹",city:"åŸå¸‚",date:"æ—¥æœŸ",guests:"äººæ•¸",budget:"é ç®—",search:"æœå°‹",cityOpts:["é¦–çˆ¾","äº¬ç•¿"],paxOpts:["1","2","3","4","5+"],budgetOpts:["~50,000â‚©","~70,000â‚©","~100,000â‚©","100,000â‚©+"]}, why:{title:"ç‚ºä»€éº¼é¸æ“‡ Sezmiee Internationalï¼Ÿ",pill:"ç°¡å–® Â· å®‰å…¨ Â· å½ˆæ€§",a:"åœ¨åœ°é©—è­‰è·¯ç·š",b:"é€æ˜å®šåƒ¹",c:"å½ˆæ€§å®¢è£½åŒ–"}, faq:{title:"å¸¸è¦‹å•é¡Œ",q1:"å¦‚ä½•é è¨‚/ä»˜æ¬¾ï¼Ÿ",a1:"è«®è©¢ â†’ ç¢ºèªåš®å° â†’ åŒ¯æ¬¾ â†’ æˆç«‹ã€‚",q2:"æ¥é€ç¯„åœï¼Ÿ",a2:"é¦–çˆ¾ + é‡‘æµ¦/ä»å·ï¼ˆéƒ¨åˆ†å€åŸŸéœ€åŠ åƒ¹ï¼‰",q3:"å–æ¶ˆæ”¿ç­–ï¼Ÿ",a3:"7å¤©å‰å…¨é¡ï¼›3å¤©å‰50%ï¼›24å°æ™‚å…§ä¸å¯ã€‚"}, contact:{title:"è¯çµ¡æˆ‘å€‘",hours:"å¹³æ—¥10:00â€“18:00ï¼æ¬¡ç‡Ÿæ¥­æ—¥å›è¦†",name:"å§“å",email:"é›»å­éƒµä»¶",subject:"æœ‰èˆˆè¶£çš„è¡Œç¨‹/åŸå¸‚",message:"è¨Šæ¯",placeholderSubj:"ä¾‹å¦‚ï¼šSeoul Demon Tour",placeholderMsg:"è«‹å‘ŠçŸ¥æ—¥æœŸ/äººæ•¸/é ç®—ç­‰",submit:"é€å‡ºè©¢å•ï¼ˆç¤ºç¯„ï¼‰",note:"æäº¤å…§å®¹åƒ…ä¾›é è¦½ï¼Œä¸æœƒå¯„å‡ºé›»å­éƒµä»¶ã€‚"}, footer:{copy:"Â© 2025 Sezmiee International. ç¤ºç¯„é é¢ â€” ç„¡å¾Œç«¯ã€‚",quick:"å¿«é€Ÿé€£çµ",links:["Tours","Why Us","FAQ","Contact"],policy:"æ”¿ç­–ï¼ˆç¤ºç¯„ï¼‰",policies:"æ¢æ¬¾ Â· éš±ç§ Â· å–æ¶ˆ"} },
    ja: { adv:{title:"æ¤œç´¢",city:"éƒ½å¸‚",date:"æ—¥ä»˜",guests:"äººæ•°",budget:"äºˆç®—",search:"æ¤œç´¢",cityOpts:["ã‚½ã‚¦ãƒ«","äº¬ç•¿"],paxOpts:["1","2","3","4","5+"],budgetOpts:["~50,000â‚©","~70,000â‚©","~100,000â‚©","100,000â‚©+"]}, why:{title:"Why Sezmiee International?",pill:"ã‚·ãƒ³ãƒ—ãƒ«ãƒ»å®‰å…¨ãƒ»æŸ”è»Ÿ",a:"ç¾åœ°æ¤œè¨¼ãƒ«ãƒ¼ãƒˆ",b:"é€æ˜ä¾¡æ ¼",c:"æŸ”è»Ÿãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º"}, faq:{title:"FAQ",q1:"äºˆç´„/æ”¯æ‰•ã„æ–¹æ³•ã¯ï¼Ÿ",a1:"å•ã„åˆã‚ã› â†’ ã‚¬ã‚¤ãƒ‰ç¢ºèª â†’ æŒ¯è¾¼ â†’ ç¢ºå®šã€‚",q2:"é€è¿ã‚¨ãƒªã‚¢ã¯ï¼Ÿ",a2:"ã‚½ã‚¦ãƒ«å…¨åŸŸï¼‹é‡‘æµ¦/ä»å·ï¼ˆä¸€éƒ¨è¿½åŠ æ–™é‡‘ï¼‰",q3:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼ã¯ï¼Ÿ",a3:"7æ—¥å‰ã¾ã§å…¨é¡ã€3æ—¥å‰ã¾ã§50%ã€24æ™‚é–“ä»¥å†…ä¸å¯ã€‚"}, contact:{title:"ãŠå•ã„åˆã‚ã›",hours:"å¹³æ—¥10:00â€“18:00 / æ¬¡å–¶æ¥­æ—¥è¿”ä¿¡",name:"ãŠåå‰",email:"ãƒ¡ãƒ¼ãƒ«",subject:"èˆˆå‘³ã®ã‚ã‚‹ãƒ„ã‚¢ãƒ¼/éƒ½å¸‚",message:"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",placeholderSubj:"ä¾‹: Seoul Demon Tour",placeholderMsg:"æ—¥ä»˜/äººæ•°/äºˆç®—ãªã©",submit:"é€ä¿¡ï¼ˆãƒ‡ãƒ¢ï¼‰",note:"é€ä¿¡ã•ã‚Œãšã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¿å­˜ã®ã¿ã€‚"}, footer:{copy:"Â© 2025 Sezmiee International. ãƒ‡ãƒ¢ã€‚",quick:"ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯",links:["Tours","Why Us","FAQ","Contact"],policy:"ãƒãƒªã‚·ãƒ¼ï¼ˆãƒ‡ãƒ¢ï¼‰",policies:"åˆ©ç”¨è¦ç´„ Â· ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ Â· ã‚­ãƒ£ãƒ³ã‚»ãƒ«"} },
  };

  const I18N_TOURS = {
    en:{1:{title:"Seoul Instagrammable CafÃ©-Hop Tour",desc:"3 popular IG-worthy cafÃ©s + photo walk"},2:{title:"Seoul Hidden-Gem City Walk Experience",desc:"Lesser-known alleys with a local guide"},3:{title:"Seoul Trendspotting Photo-Tour",desc:"Pro photographer + on-trend spaces"},4:{title:"Seoul Popup-Culture Hopping Tour",desc:"Pop-ups, street art, flea markets + creators"},5:{title:"Seoul Lifestyle Travel Outing",desc:"CafÃ© break + Hangang walk + photo spots"},6:{title:"Seoul Demon Tour: K-Pop & Night Walk",desc:"Myeongdong K-Pop goods + SMTOWN + Hangang River"},7:{title:"Gyeonggi Art Village Brunch & CafÃ© Tour",desc:"Heyri art village + brunch cafÃ© + gallery"},8:{title:"Hongdae Animation & Game Theme CafÃ© Walk",desc:"Anime/game/webtoon cafÃ©s + street game shops"},9:{title:"Seoul Nighttime Hidden-Gems Walking Tour",desc:"Night walk with a history guide"},10:{title:"Seoul Heritage & Sunset Photo Tour",desc:"Hanok alleys + sunset with a pro photographer"},11:{title:"Seoul Mountain Hiking Adventure â€“ Bukhansan/Inwang views",desc:"Hike Bukhansan or Inwangsan with panoramic Seoul views + guide"}},
    es:{1:{title:"Tour de cafÃ©s â€œinstagrammablesâ€ en SeÃºl",desc:"3 cafÃ©s populares + paseo fotogrÃ¡fico"},2:{title:"Paseo urbano: joyas ocultas de SeÃºl",desc:"Callejones poco conocidos con guÃ­a local"},3:{title:"Tour fotogrÃ¡fico de tendencias en SeÃºl",desc:"FotÃ³grafo profesional + espacios de moda"},4:{title:"Ruta de cultura pop-up en SeÃºl",desc:"Pop-ups, arte urbano y mercadillos"},5:{title:"Salida lifestyle por SeÃºl",desc:"CafÃ© + paseo por el Han + fotos"},6:{title:"Seoul Demon Tour: K-Pop y noche del rÃ­o Han",desc:"Compras K-Pop + SMTOWN + rÃ­o Han"},7:{title:"Brunch y cafÃ©s en aldea de arte (Gyeonggi)",desc:"Heyri + brunch + galerÃ­a"},8:{title:"Hongdae: cafeterÃ­as temÃ¡ticas anime & game",desc:"CafÃ©s temÃ¡ticos + tiendas de juego"},9:{title:"SeÃºl nocturno: joyas ocultas a pie",desc:"Paseo nocturno con guÃ­a de historia"},10:{title:"Patrimonio y atardecer en SeÃºl",desc:"Callejones hanok + fotÃ³grafo profesional"},11:{title:"Aventura de senderismo en SeÃºl â€“ vistas de Bukhansan/Inwang",desc:"ExcursiÃ³n por Bukhansan o Inwang con vistas de SeÃºl + guÃ­a"}},
    zh:{1:{title:"é¦–å°”ç½‘çº¢å’–å•¡å·¡ç¤¼",desc:"3å®¶ç½‘çº¢å’–å•¡ + è¡—æ‹æ•£æ­¥"},2:{title:"é¦–å°”åŸå¸‚ç§˜å¢ƒå¾’æ­¥",desc:"ä¸ä¸ºäººçŸ¥çš„å°å·· + æœ¬åœ°å‘å¯¼"},3:{title:"é¦–å°”æ½®æµæ‘„å½±ä¹‹æ—…",desc:"ä¸“ä¸šæ‘„å½±å¸ˆ + æ½®æµç©ºé—´"},4:{title:"é¦–å°”å¿«é—ªæ–‡åŒ–å·¡æ¸¸",desc:"å¿«é—ªåº—ã€è¡—å¤´è‰ºæœ¯ã€è·³èš¤å¸‚åœº"},5:{title:"é¦–å°”ç”Ÿæ´»æ–¹å¼å°æ—…è¡Œ",desc:"å’–å•¡ä¼‘æ¯ + æ±‰æ±Ÿæ•£æ­¥ + æ‹ç…§ç‚¹"},6:{title:"æ¶é­”ä¹‹æ—…ï¼šK-Pop & å¤œè¡Œ",desc:"æ˜æ´å‘¨è¾¹ + SMTOWN + æ±‰æ±Ÿ"},7:{title:"äº¬ç•¿è‰ºæœ¯æ‘æ—©åˆé¤ & å’–å•¡",desc:"Heyriè‰ºæœ¯æ‘ + æ—©åˆé¤ + ç”»å»Š"},8:{title:"å¼˜å¤§åŠ¨ç”»ä¸æ¸¸æˆä¸»é¢˜å’–å•¡",desc:"ä¸»é¢˜å’–å•¡ + è¡—å¤´æ¸¸æˆåº—"},9:{title:"é¦–å°”å¤œé—´ç§˜å¢ƒå¾’æ­¥",desc:"å†å²å‘å¯¼é™ªåŒçš„å¤œæ¸¸"},10:{title:"é¦–å°”é—äº§ä¸æ—¥è½æ‘„å½±",desc:"éŸ©å±‹å°å·· + ä¸“ä¸šæ‘„å½±å¸ˆ"},11:{title:"é¦–å°”ç™»å±±æ¢é™© â€“ çœºæœ›åŒ—æ±‰å±±/ä»ç‹å±±",desc:"åŒ—æ±‰å±±æˆ–ä»ç‹å±±å¾’æ­¥ + é¦–å°”å…¨æ™¯ + å‘å¯¼é™ªåŒ"}},
    zhHant:{1:{title:"é¦–çˆ¾ç¶²ç´…å’–å•¡å·¡ç¦®",desc:"3é–“ç¶²ç´…å’–å•¡ + è¡—æ‹æ•£æ­¥"},2:{title:"é¦–çˆ¾åŸå¸‚ç§˜å¢ƒå¾’æ­¥",desc:"ä¸ç‚ºäººçŸ¥çš„å°å·· + åœ¨åœ°åš®å°"},3:{title:"é¦–çˆ¾æ½®æµæ”å½±ä¹‹æ—…",desc:"å°ˆæ¥­æ”å½±å¸« + æ½®æµç©ºé–“"},4:{title:"é¦–çˆ¾å¿«é–ƒæ–‡åŒ–å·¡éŠ",desc:"å¿«é–ƒåº—ã€è¡—é ­è—è¡“ã€è·³èš¤å¸‚å ´"},5:{title:"é¦–çˆ¾ç”Ÿæ´»é¢¨æ ¼å°æ—…è¡Œ",desc:"å’–å•¡å°æ†© + æ¼¢æ±Ÿæ•£æ­¥ + æ‹ç…§é»"},6:{title:"æƒ¡é­”ä¹‹æ—…ï¼šKâ€‘Pop èˆ‡å¤œè¡Œ",desc:"æ˜æ´å‘¨é‚Š + SMTOWN + æ¼¢æ±Ÿ"},7:{title:"äº¬ç•¿è—è¡“æ‘æ—©åˆé¤èˆ‡å’–å•¡",desc:"Heyri è—è¡“æ‘ + æ—©åˆé¤ + ç•«å»Š"},8:{title:"å¼˜å¤§å‹•ç•«èˆ‡éŠæˆ²ä¸»é¡Œå’–å•¡",desc:"ä¸»é¡Œå’–å•¡ + è¡—é ­éŠæˆ²åº—"},9:{title:"é¦–çˆ¾å¤œé–“ç§˜å¢ƒå¾’æ­¥",desc:"æ­·å²åš®å°é™ªåŒçš„å¤œéŠ"},10:{title:"é¦–çˆ¾æ–‡åŒ–éºç”¢èˆ‡å¤•ç…§æ”å½±",desc:"éŸ“å±‹å··å¼„ + å°ˆæ¥­æ”å½±å¸«"},11:{title:"é¦–çˆ¾ç™»å±±å†’éšª â€“ çœºæœ›åŒ—æ¼¢å±±/ä»ç‹å±±",desc:"åŒ—æ¼¢å±±æˆ–ä»ç‹å±±å¥è¡Œ + é¦–çˆ¾å…¨æ™¯ + åš®å°"}},
    ja:{1:{title:"ã‚½ã‚¦ãƒ« ã‚¤ãƒ³ã‚¹ã‚¿æ˜ ãˆã‚«ãƒ•ã‚§å·¡ã‚Š",desc:"äººæ°—ã‚«ãƒ•ã‚§3è»’ + ãƒ•ã‚©ãƒˆã‚¦ã‚©ãƒ¼ã‚¯"},2:{title:"ã‚½ã‚¦ãƒ«éš ã‚Œã‚¹ãƒãƒƒãƒˆè¡—æ­©ã",desc:"ãƒ­ãƒ¼ã‚«ãƒ«ã‚¬ã‚¤ãƒ‰ã¨è·¯åœ°æ¢ç´¢"},3:{title:"ã‚½ã‚¦ãƒ«ãƒˆãƒ¬ãƒ³ãƒ‰æ’®å½±ãƒ„ã‚¢ãƒ¼",desc:"ãƒ—ãƒ­ã‚«ãƒ¡ãƒ©ãƒãƒ³åŒè¡Œ"},4:{title:"ã‚½ã‚¦ãƒ«ãƒ»ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—æ–‡åŒ–ãƒ›ãƒƒãƒ”ãƒ³ã‚°",desc:"ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—/ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚¢ãƒ¼ãƒˆ/ãƒ•ãƒªãƒ"},5:{title:"ã‚½ã‚¦ãƒ«ãƒ»ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«å°æ—…è¡Œ",desc:"ã‚«ãƒ•ã‚§ä¼‘æ†© + æ¼¢æ±Ÿæ•£æ­© + æ’®å½±"},6:{title:"ãƒ‡ãƒ¼ãƒ¢ãƒ³ãƒ„ã‚¢ãƒ¼ï¼šK-Pop & ãƒŠã‚¤ãƒˆ",desc:"æ˜æ´ã‚°ãƒƒã‚º + SMTOWN + æ¼¢æ±Ÿ"},7:{title:"äº¬ç•¿ã‚¢ãƒ¼ãƒˆæ‘ãƒ–ãƒ©ãƒ³ãƒ&ã‚«ãƒ•ã‚§",desc:"ãƒ˜ã‚¤ãƒª + ãƒ–ãƒ©ãƒ³ãƒ + ã‚®ãƒ£ãƒ©ãƒªãƒ¼"},8:{title:"å¼˜å¤§ã‚¢ãƒ‹ãƒ¡&ã‚²ãƒ¼ãƒ  ãƒ†ãƒ¼ãƒã‚«ãƒ•ã‚§",desc:"ãƒ†ãƒ¼ãƒã‚«ãƒ•ã‚§ + ã‚²ãƒ¼ãƒ ã‚·ãƒ§ãƒƒãƒ—"},9:{title:"ã‚½ã‚¦ãƒ«å¤œã®ç§˜å¢ƒã‚¦ã‚©ãƒ¼ã‚¯",desc:"æ­´å²ã‚¬ã‚¤ãƒ‰ã¨å¤œã•ã‚“ã½"},10:{title:"ã‚½ã‚¦ãƒ«éºç”£ï¼†ã‚µãƒ³ã‚»ãƒƒãƒˆæ’®å½±",desc:"éŸ“å±‹è·¯åœ° + ãƒ—ãƒ­åŒè¡Œ"},11:{title:"ã‚½ã‚¦ãƒ«ç™»å±±ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼ â€“ åŒ—æ¼¢å±±/ä»ç‹å±±ãƒ“ãƒ¥ãƒ¼",desc:"åŒ—æ¼¢å±±ãƒ»ä»ç‹å±±ãƒã‚¤ã‚­ãƒ³ã‚° + ã‚½ã‚¦ãƒ«ãƒ“ãƒ¥ãƒ¼ + ã‚¬ã‚¤ãƒ‰åŒè¡Œ"}},
    kr:{1:{title:"ì„œìš¸ ì¸ìŠ¤íƒ€ê·¸ë¨ ì¹´í˜íˆ¬ì–´",desc:"í•«í•œ ì¹´í˜ 3ê³³ + í¬í†  ì›Œí¬"},2:{title:"ì„œìš¸ ìˆ¨ì€ ëª…ì†Œ ë„ë³´íˆ¬ì–´",desc:"í˜„ì§€ ê°€ì´ë“œì™€ ê³¨ëª© ì‚°ì±…"},3:{title:"ì„œìš¸ íŠ¸ë Œë“œìŠ¤í¬íŒ… í¬í† íˆ¬ì–´",desc:"í”„ë¡œ ì‚¬ì§„ê°€ + íŠ¸ë Œë”” ê³µê°„"},4:{title:"ì„œìš¸ íŒì—…ì»¬ì²˜ í•˜í•‘ íˆ¬ì–´",desc:"íŒì—…/ìŠ¤íŠ¸ë¦¬íŠ¸ì•„íŠ¸/í”Œë¦¬ë§ˆì¼“"},5:{title:"ì„œìš¸ ë¼ì´í”„ìŠ¤íƒ€ì¼ ë‚˜ë“¤ì´",desc:"ì¹´í˜ íœ´ì‹ + í•œê°• ì‚°ì±… + í¬í† "},6:{title:"ì„œìš¸ ë°ëª¬ íˆ¬ì–´: ì¼€ì´íŒ & ë‚˜ì´íŠ¸",desc:"ëª…ë™ êµ¿ì¦ˆ + SMTOWN + í•œê°• ì•¼ê²½"},7:{title:"ê²½ê¸° í—¤ì´ë¦¬ ì•„íŠ¸ë¹Œë¦¬ì§€ ë¸ŒëŸ°ì¹˜ & ì¹´í˜",desc:"í—¤ì´ë¦¬ + ë¸ŒëŸ°ì¹˜ + ê°¤ëŸ¬ë¦¬"},8:{title:"í™ëŒ€ ì• ë‹ˆÂ·ê²Œì„ í…Œë§ˆì¹´í˜ ì›Œí‚¹íˆ¬ì–´",desc:"í…Œë§ˆì¹´í˜ + ê²Œì„ìˆ"},9:{title:"ì„œìš¸ ëª…ì†Œ ë‚˜ì´íŠ¸ ì›Œí‚¹íˆ¬ì–´",desc:"ì—­ì‚¬ê°€ì´ë“œì™€ ì•¼ê°„ ì‚°ì±…"},10:{title:"ì„œìš¸ í—¤ë¦¬í‹°ì§€ & ì„ ì…‹ í¬í† íˆ¬ì–´",desc:"í•œì˜¥ ê³¨ëª© + í”„ë¡œ ì´¬ì˜"},11:{title:"ì„œìš¸ ë“±ì‚° ì–´ë“œë²¤ì²˜ â€“ ë¶í•œì‚°/ì¸ì™•ì‚°",desc:"ë“±ì‚° + ì„œìš¸ ì „ê²½ + ê°€ì´ë“œ"}},
  };

  // ======= State =======
  let state = {
    locale: 'kr',
    query: '',
    adv: { city: '', date: '', guests: '', budget: '' },
    inbox: [],
  };

  const formatKRW = (v)=> new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",maximumFractionDigits:0}).format(v);
  const getLocalized = (t, locale)=>{
    const num = Number(String(t.id).replace(/\D/g,''));
    const pack = (I18N_TOURS[locale]||{})[num];
    return { name: pack?.title || t.name, short: pack?.desc || t.short };
  };

  // ======= Rendering helpers =======
  const qs = (s,el=document)=> el.querySelector(s);
  const qsa = (s,el=document)=> [...el.querySelectorAll(s)];

  function renderAdvancedSearch(){
    const L = COPY[state.locale].adv;
    qs('#advSection').innerHTML = `
      <div class="mb-3 text-sm font-semibold">${L.title}</div>
      <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
        <div class="flex flex-col gap-1">
          <label class="text-xs text-gray-600">${L.city}</label>
          <select id="city" class="rounded-xl border px-3 py-2">${L.cityOpts.map(c=>`<option>${c}</option>`).join('')}</select>
        </div>
        <div class="flex flex-col gap-1">
          <label class="text-xs text-gray-600">${L.date}</label>
          <input id="date" type="date" class="rounded-xl border px-3 py-2" />
        </div>
        <div class="flex flex-col gap-1">
          <label class="text-xs text-gray-600">${L.guests}</label>
          <select id="guests" class="rounded-xl border px-3 py-2">${L.paxOpts.map(p=>`<option>${p}</option>`).join('')}</select>
        </div>
        <div class="flex flex-col gap-1">
          <label class="text-xs text-gray-600">${L.budget}</label>
          <select id="budget" class="rounded-xl border px-3 py-2">${L.budgetOpts.map(b=>`<option>${b}</option>`).join('')}</select>
        </div>
        <div class="flex items-end">
          <button id="advApply" class="w-full rounded-2xl border px-4 py-2 hover:bg-gray-50 font-medium">${L.search}</button>
        </div>
      </div>`;
    // defaults when locale changes
    qs('#city').value = L.cityOpts[0] || '';
    qs('#guests').value = L.paxOpts[0] || '';
    qs('#budget').value = L.budgetOpts[0] || '';
    qs('#advApply').onclick = ()=>{
      state.adv = {
        city: qs('#city').value,
        date: qs('#date').value,
        guests: qs('#guests').value,
        budget: qs('#budget').value,
      };
      renderCards();
    };
  }

  function renderToolbar(){
    const langBtns = ['kr','en','es','zh','zhHant','ja'].map(l=>{
      const label = l==='kr'? 'í•œêµ­ì–´': l==='en'? 'English': l==='es'? 'EspaÃ±ol': l==='zh'? 'ä¸­æ–‡(ç®€)': l==='zhHant'? 'ä¸­æ–‡(ç¹)': 'æ—¥æœ¬èª';
      const active = l===state.locale ? 'bg-black text-white' : 'bg-white';
      return `<button data-lang="${l}" class="rounded-2xl px-3 py-1.5 text-sm border ${active}">${label}</button>`;
    }).join('');

    const ui = UI[state.locale];
    qs('#toolbar').innerHTML = `
      <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
        <div class="flex items-center gap-2">${langBtns}</div>
        <div class="flex w-full md:w-auto items-center gap-2">
          <input id="searchInput" class="w-full md:w-80 rounded-2xl border px-4 py-2" placeholder="${ui.placeholder}" />
          <button id="clearBtn" aria-label="Clear" class="hidden rounded-2xl border px-3 py-2 hover:bg-gray-50">âœ•</button>
          <button id="searchBtn" class="rounded-2xl border px-4 py-2 hover:bg-gray-50">${ui.search}</button>
        </div>
      </div>`;

    qsa('button[data-lang]').forEach(btn=>{
      btn.onclick = ()=>{ state.locale = btn.dataset.lang; renderAllButHeader(); };
    });

    const input = qs('#searchInput');
    const clearBtn = qs('#clearBtn');
    const apply = ()=>{ state.query = input.value.trim(); renderCards(); };
    input.addEventListener('input', ()=>{ clearBtn.classList.toggle('hidden', !input.value); apply(); });
    input.addEventListener('keydown', e=>{ if(e.key==='Enter') apply(); });
    qs('#searchBtn').onclick = apply;
    clearBtn.onclick = ()=>{ input.value=''; clearBtn.classList.add('hidden'); apply(); };
  }

  function filterList(){
    const adv = state.adv; let list = tours.slice();
    if(adv.city){
      if(/Seoul|ì„œìš¸/.test(adv.city)) list = list.filter(t=>t.area.toLowerCase().includes('seoul'));
      else if(/Gyeonggi|ê²½ê¸°/.test(adv.city)) list = list.filter(t=>t.area.toLowerCase().includes('gyeonggi'));
    }
    if(adv.budget){
      const b = adv.budget;
      if(b.includes('50')) list = list.filter(t=> t.priceKRW<=50000);
      else if(b.includes('70')) list = list.filter(t=> t.priceKRW<=70000);
      else if(b.includes('100') && b.includes('+')) list = list.filter(t=> t.priceKRW>100000);
      else if(b.includes('100')) list = list.filter(t=> t.priceKRW<=100000);
    }
    const q = (state.query||'').toLowerCase();
    if(!q) return list;
    return list.filter(t=>{
      const loc = getLocalized(t, state.locale);
      return [loc.name, t.area, loc.short, t.schedule, t.tags.join(' ')].join(' ').toLowerCase().includes(q);
    });
  }

  function cardTemplate(t){
    const loc = getLocalized(t, state.locale);
    const price = formatKRW(t.priceKRW);
    const cardId = `card-${t.id}`;
    return `
    <div class="fade-up group rounded-2xl border bg-white shadow-sm hover:shadow-lg" id="${cardId}">
      <div class="aspect-[16/9] w-full overflow-hidden">
        <img src="${t.heroImg}" alt="${loc.name}" class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105" />
      </div>
      <div class="p-5 space-y-3">
        <div class="flex items-center justify-between">
          <h3 class="text-lg font-semibold">${loc.name}</h3>
          <span class="text-sm text-gray-500">${formatDurationLocal(t.duration, state.locale)}</span>
        </div>
        <p class="text-sm text-gray-600">${loc.short}</p>
        <div class="flex flex-wrap gap-2">${t.tags.map(tag=>`<span class="text-xs rounded-full border px-2 py-0.5">${tag}</span>`).join('')}</div>
        <div class="text-sm text-gray-700">ğŸ“ ${localizeArea(t.area, state.locale)} Â· ${localizeMeet(t.meetPoint, state.locale)}</div>
        <div class="text-xs text-gray-500">ğŸ—º ${getSchedule(t, state.locale)}</div>
        <div class="flex items-center justify-between pt-2">
          <div class="text-base font-bold">${price}</div>
          <div class="flex items-center gap-2">
            <a href="${t.meetMapUrl}" target="_blank" rel="noreferrer" class="rounded-2xl px-3 py-2 text-sm border hover:bg-gray-50">Map</a>
            <a href="${t.bookingUrl}" target="_blank" rel="noreferrer" class="rounded-2xl px-4 py-2 text-sm bg-black text-white hover:opacity-90">Book</a>
            <div class="relative">
              <button class="qrBtn rounded-2xl px-4 py-2 text-sm shadow hover:shadow-md border bg-white">QR</button>
              <div class="qrPopover hidden fixed z-[9999] rounded-2xl border bg-white p-3 shadow-xl"></div>
            </div>
          </div>
        </div>
      </div>
    </div>`;
  }

  function renderCards(){
    const container = qs('#cards');
    container.innerHTML = filterList().map(cardTemplate).join('');

    // fade-in observe
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
    },{threshold:0.1});
    qsa('.fade-up', container).forEach(el=> io.observe(el));

    // QR events
    qsa('.qrBtn', container).forEach((btn)=>{
      btn.addEventListener('click', async ()=>{
        const wrap = btn.parentElement.querySelector('.qrPopover');
        if(wrap.classList.contains('hidden')){
          wrap.classList.remove('hidden');
          // position the fixed popover near the button, above all content
          const rect = btn.getBoundingClientRect();
          const popW = 176; // ~160 image + padding
          const left = Math.min(window.innerWidth - popW - 8, Math.max(8, rect.left));
          wrap.style.top = `${rect.bottom + 8}px`;
          wrap.style.left = `${left}px`;

          // click-away to close
          const onDoc = (e)=>{ if(!wrap.contains(e.target) && e.target!==btn){ wrap.classList.add('hidden'); document.removeEventListener('click', onDoc, true); } };
          setTimeout(()=>document.addEventListener('click', onDoc, true),0);

          if(!wrap.dataset.loaded){
            const card = btn.closest('[id^="card-"]');
            const id = card.id.replace('card-','');
            const tour = tours.find(t=> t.id===id);
            try{
              const url = await QRCode.toDataURL(tour.bookingUrl, { margin:1, scale:6 });
              wrap.innerHTML = `<img src="${url}" alt="QR code" class="h-40 w-40" />`;
              wrap.dataset.loaded = '1';
            }catch(err){ wrap.innerHTML = `<div class="p-8 text-sm text-red-600">QR failed</div>`; }
          }
        } else {
          wrap.classList.add('hidden');
        }
      });
    });
  }

  function renderWhy(){
    const c = COPY[state.locale].why;
    qs('#why').innerHTML = `
      <div class="flex items-center justify-between"><h2 class="text-xl font-semibold">${c.title}</h2><span class="rounded-full border px-3 py-1 text-xs">${c.pill}</span></div>
      <div class="grid md:grid-cols-3 gap-3 mt-4">
        <div class="rounded-xl border p-4 text-sm">${c.a}</div>
        <div class="rounded-xl border p-4 text-sm">${c.b}</div>
        <div class="rounded-xl border p-4 text-sm">${c.c}</div>
      </div>`;
  }

  function renderFAQ(){
    const f = COPY[state.locale].faq;
    qs('#faq').innerHTML = `
      <h2 class="text-xl font-semibold mb-2">${f.title}</h2>
      <details class="rounded-xl border p-4"><summary class="font-medium">${f.q1}</summary><p class="text-sm text-gray-600 mt-2">${f.a1}</p></details>
      <details class="rounded-xl border p-4 mt-2"><summary class="font-medium">${f.q2}</summary><p class="text-sm text-gray-600 mt-2">${f.a2}</p></details>
      <details class="rounded-xl border p-4 mt-2"><summary class="font-medium">${f.q3}</summary><p class="text-sm text-gray-600 mt-2">${f.a3}</p></details>`;
  }

  function renderContact(){
    const c = COPY[state.locale].contact;
    qs('#contact').innerHTML = `
      <div class="flex items-center justify-between"><h2 class="text-xl font-semibold">${c.title}</h2><span class="text-xs text-gray-500">${c.hours}</span></div>
      <div class="grid md:grid-cols-2 gap-3 mt-3">
        <div class="flex flex-col gap-1"><label class="text-xs text-gray-600">${c.name}</label><input id="iName" class="rounded-xl border px-3 py-2" placeholder="${c.name==='ì´ë¦„'?'í™ê¸¸ë™':'Name'}" /></div>
        <div class="flex flex-col gap-1"><label class="text-xs text-gray-600">${c.email}</label><input id="iEmail" class="rounded-xl border px-3 py-2" type="email" placeholder="you@example.com" /></div>
        <div class="flex flex-col gap-1 md:col-span-2"><label class="text-xs text-gray-600">${c.subject}</label><input id="iSubject" class="rounded-xl border px-3 py-2" placeholder="${c.placeholderSubj}" /></div>
        <div class="flex flex-col gap-1 md:col-span-2"><label class="text-xs text-gray-600">${c.message}</label><textarea id="iMessage" class="rounded-xl border px-3 py-2" rows="4" placeholder="${c.placeholderMsg}"></textarea></div>
        <div class="md:col-span-2 flex items-center justify-between"><span class="text-xs text-gray-500">${c.note}</span><button id="sendBtn" class="rounded-2xl bg-black text-white px-4 py-2 text-sm">${c.submit}</button></div>
      </div>`;
    qs('#sendBtn').onclick = ()=>{
      const payload = { name: qs('#iName').value, email: qs('#iEmail').value, subject: qs('#iSubject').value, message: qs('#iMessage').value, ts: Date.now() };
      state.inbox = [payload, ...state.inbox];
      renderInbox();
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    };
  }

  function renderInbox(){
    const wrap = qs('#inboxWrap');
    const list = qs('#inboxList');
    wrap.classList.toggle('hidden', state.inbox.length===0);
    list.innerHTML = state.inbox.map(m=>`
      <div class="rounded-xl border bg-white p-3">
        <div class="text-xs text-gray-500">${new Date(m.ts).toLocaleString()}</div>
        <div class="font-medium">From: ${m.name} &lt;${m.email}&gt;</div>
        <div class="text-sm">Subject: ${m.subject || '(No subject)'}</div>
        <div class="text-sm text-gray-700 mt-1 whitespace-pre-wrap">${m.message || '(No content)'}</div>
      </div>`).join('');
  }

  function renderFooter(){
    const f = COPY[state.locale].footer;
    qs('#footer').innerHTML = `
      <div class="mb-2 font-semibold">Sezmiee International</div>
      <div class="mb-2">${f.copy}</div>
      <div class="flex items-center justify-center gap-3 flex-wrap mb-2">
        ${f.links.map(l=>`<a href="#${l.toLowerCase().replace(/\s/g,'')}" class="hover:underline">${l}</a>`).join('')}
      </div>
      <div class="text-gray-400">${f.policy} Â· ${f.policies}</div>`;
  }

  function renderAllButHeader(){
    renderAdvancedSearch();
    renderToolbar();
    renderCards();
    renderWhy();
    renderFAQ();
    renderContact();
    renderInbox();
    renderFooter();
  }
  /* ======= Schedules & Place i18n (added) ======= */
  const I18N_SCHEDULES = {
    en:{1:"Meet 10:00 â†’ CafÃ© A â†’ CafÃ© B â†’ Photo walk â†’ CafÃ© C",2:"14:00 start â†’ Ikseon alleys â†’ Bukchon photo â†’ Local cafÃ©",3:"09:30 depart â†’ Cheonggyecheon snaps â†’ Sewoon spot â†’ DDP exterior",4:"13:00 start â†’ Hot pop-up â†’ Street-art photo â†’ Flea/check",5:"16:00 start â†’ CafÃ© break â†’ Hangang walk & photo â†’ Sunset",6:"18:30 start â†’ Myeongdong goods â†’ SMTOWN/Gangnam spot â†’ Hangang night",7:"10:00 depart â†’ Heyri stroll â†’ Brunch cafÃ© â†’ Gallery photo",8:"15:00 start â†’ Theme cafÃ© â†’ Street game shop â†’ Photo spot",9:"17:00 start â†’ Naksan light walk â†’ Fortress night path",10:"16:30 start â†’ Jongno hanok alleys â†’ Sunset shooting",11:"08:00 meet â†’ transfer to trailhead â†’ hike/Seoul viewpoints â†’ descent & refresh"},
    kr:{1:"10:00 ë¯¸íŒ… â†’ ì¹´í˜ A â†’ ì¹´í˜ B â†’ í¬í†  ì›Œí¬ â†’ ì¹´í˜ C",2:"14:00 ì‹œì‘ â†’ ìµì„  ê³¨ëª© ì‚°ì±… â†’ ë¶ì´Œ ì‚¬ì§„ â†’ ë¡œì»¬ ì¹´í˜",3:"09:30 ì¶œë°œ â†’ ì²­ê³„ì²œ ìŠ¤ëƒ… â†’ ì„¸ìš´ìŠ¤íŒŸ â†’ DDP ì™¸ê´€",4:"13:00 ì‹œì‘ â†’ í•«í•œ íŒì—… â†’ ìŠ¤íŠ¸ë¦¬íŠ¸ì•„íŠ¸ ì´¬ì˜ â†’ í”Œë¦¬ë§ˆì¼“ ì²´í¬",5:"16:00 ì‹œì‘ â†’ ì¹´í˜ ë¸Œë ˆì´í¬ â†’ í•œê°• ì‚°ì±… & ì‚¬ì§„ â†’ ì„ì–‘",6:"18:30 ì‹œì‘ â†’ ëª…ë™ êµ¿ì¦ˆ ìˆ â†’ SMTOWN/ê°•ë‚¨ ìŠ¤íŒŸ â†’ í•œê°• ì•¼ê²½",7:"10:00 ì¶œë°œ â†’ í—¤ì´ë¦¬ ì‚°ì±… â†’ ë¸ŒëŸ°ì¹˜ ì¹´í˜ â†’ ê°¤ëŸ¬ë¦¬ ì´¬ì˜",8:"15:00 ì‹œì‘ â†’ í…Œë§ˆ ì¹´í˜ â†’ ê±°ë¦¬ ê²Œì„ìˆ â†’ í¬í†  ìŠ¤íŒŸ",9:"17:00 ì‹œì‘ â†’ ë‚™ì‚° ì•¼ê²½ ì‚°ì±… â†’ ë„ì„± ì•¼ê°„ê¸¸",10:"16:30 ì‹œì‘ â†’ ì¢…ë¡œ í•œì˜¥ ê³¨ëª© â†’ ì„ ì…‹ ì´¬ì˜",11:"08:00 ë¯¸íŒ… â†’ íŠ¸ë ˆì¼í—¤ë“œ ì´ë™ â†’ í•˜ì´í‚¹/ì„œìš¸ ì „ë§ â†’ í•˜ì‚° & ë¦¬í”„ë ˆì‹œ"},
    es:{1:"Encuentro 10:00 â†’ CafÃ© A â†’ CafÃ© B â†’ Paseo fotogrÃ¡fico â†’ CafÃ© C",2:"Inicio 14:00 â†’ Callejones de Ikseon â†’ Foto en Bukchon â†’ CafÃ© local",3:"Salida 09:30 â†’ Fotos en Cheonggyecheon â†’ Punto Sewoon â†’ Exterior del DDP",4:"Inicio 13:00 â†’ Pop-up de moda â†’ Foto de arte urbano â†’ RevisiÃ³n de mercadillo",5:"Inicio 16:00 â†’ Pausa de cafÃ© â†’ Paseo por el Han & fotos â†’ Atardecer",6:"Inicio 18:30 â†’ Tiendas K-Pop en Myeongdong â†’ Punto SMTOWN/Gangnam â†’ Noche en el Han",7:"Salida 10:00 â†’ Paseo por Heyri â†’ CafÃ©-brunch â†’ Foto en galerÃ­a",8:"Inicio 15:00 â†’ CafÃ© temÃ¡tico â†’ Tienda de juegos de calle â†’ Punto de foto",9:"Inicio 17:00 â†’ Paseo nocturno por Naksan â†’ Senda nocturna de la muralla",10:"Inicio 16:30 â†’ Callejones hanok en Jongno â†’ SesiÃ³n de atardecer",11:"Encuentro 08:00 â†’ Traslado al inicio del sendero â†’ Caminata/vistas de SeÃºl â†’ Descenso y descanso"},
    zh:{1:"10:00 é›†åˆ â†’ å’–å•¡é¦†A â†’ å’–å•¡é¦†B â†’ è¡—æ‹æ•£æ­¥ â†’ å’–å•¡é¦†C",2:"14:00 å¼€å§‹ â†’ ç›Šå–„æ´å°å·· â†’ åŒ—æ‘æ‹ç…§ â†’ æœ¬åœ°å’–å•¡é¦†",3:"09:30 å‡ºå‘ â†’ æ¸…æºªå·æŠ“æ‹ â†’ ä¸–è¿ç‚¹ä½ â†’ DDP å¤–ç«‹é¢",4:"13:00 å¼€å§‹ â†’ çƒ­é—¨å¿«é—ª â†’ è¡—å¤´è‰ºæœ¯æ‹æ‘„ â†’ è·³èš¤å¸‚åœºçœ‹çœ‹",5:"16:00 å¼€å§‹ â†’ å’–å•¡ä¼‘æ¯ â†’ æ±‰æ±Ÿæ­¥è¡Œ&æ‹ç…§ â†’ æ—¥è½",6:"18:30 å¼€å§‹ â†’ æ˜æ´K-Popå‘¨è¾¹ â†’ SMTOWN/æ±Ÿå—ç‚¹ä½ â†’ æ±‰æ±Ÿå¤œæ™¯",7:"10:00 å‡ºå‘ â†’ Heyri æ¼«æ­¥ â†’ æ—©åˆé¤å’–å•¡ â†’ ç”»å»Šæ‹ç…§",8:"15:00 å¼€å§‹ â†’ ä¸»é¢˜å’–å•¡ â†’ è¡—å¤´æ¸¸æˆåº— â†’ æ‰“å¡ç‚¹",9:"17:00 å¼€å§‹ â†’ éª†å±±ç¯å…‰æ•£æ­¥ â†’ åŸéƒ­å¤œé—´æ­¥é“",10:"16:30 å¼€å§‹ â†’ é’Ÿè·¯éŸ©å±‹å°å·· â†’ æ—¥è½æ‹æ‘„",11:"08:00 é›†åˆ â†’ å‰å¾€ç™»å±±å£ â†’ å¾’æ­¥/é¦–å°”è§‚æ™¯ â†’ ä¸‹å±±&ä¼‘æ•´"},
    zhHant:{1:"10:00 é›†åˆ â†’ å’–å•¡A â†’ å’–å•¡B â†’ è¡—æ‹æ•£æ­¥ â†’ å’–å•¡C",2:"14:00 é–‹å§‹ â†’ ç›Šå–„æ´å··å¼„ â†’ åŒ—æ‘æ‹ç…§ â†’ åœ¨åœ°å’–å•¡",3:"09:30 å‡ºç™¼ â†’ æ¸…æºªå·å¿«æ‹ â†’ ä¸–é‹å ´æ™¯ â†’ DDP å¤–è§€",4:"13:00 é–‹å§‹ â†’ ç†±é–€å¿«é–ƒ â†’ è¡—é ­è—è¡“æ‹æ” â†’ é€›é€›å¸‚é›†",5:"16:00 é–‹å§‹ â†’ å’–å•¡ä¼‘æ¯ â†’ æ¼¢æ±Ÿæ•£æ­¥èˆ‡æ‹ç…§ â†’ å¤•é™½",6:"18:30 é–‹å§‹ â†’ æ˜æ´K-Popå•†åº— â†’ SMTOWN/æ±Ÿå—æ™¯é» â†’ æ¼¢æ±Ÿå¤œæ™¯",7:"10:00 å‡ºç™¼ â†’ Heyri æ¼«æ­¥ â†’ æ—©åˆé¤å’–å•¡ â†’ ç•«å»Šæ‹ç…§",8:"15:00 é–‹å§‹ â†’ ä¸»é¡Œå’–å•¡ â†’ è¡—é ­éŠæˆ²åº— â†’ æ‰“å¡é»",9:"17:00 é–‹å§‹ â†’ é§±å±±ç‡ˆå…‰æ•£æ­¥ â†’ åŸéƒ­å¤œé–“æ­¥é“",10:"16:30 é–‹å§‹ â†’ é˜è·¯çš„éŸ“å±‹å··å¼„ â†’ å¤•ç…§æ”å½±",11:"08:00 é›†åˆ â†’ å‰å¾€ç™»å±±å£ â†’ å¥è¡Œ/é¦–çˆ¾å±•æœ› â†’ ä¸‹å±±ä¼‘æ¯"},
    ja:{1:"10:00 é›†åˆ â†’ ã‚«ãƒ•ã‚§A â†’ ã‚«ãƒ•ã‚§B â†’ ãƒ•ã‚©ãƒˆã‚¦ã‚©ãƒ¼ã‚¯ â†’ ã‚«ãƒ•ã‚§C",2:"14:00 é–‹å§‹ â†’ ç›Šå–„æ´ã®è·¯åœ°æ­©ã â†’ åŒ—æ‘ã§æ’®å½± â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã‚«ãƒ•ã‚§",3:"09:30 å‡ºç™º â†’ æ¸…æ¸“å·ã‚¹ãƒŠãƒƒãƒ— â†’ ã‚»ã‚¦ãƒ³ã‚¹ãƒãƒƒãƒˆ â†’ DDPå¤–è¦³",4:"13:00 é–‹å§‹ â†’ äººæ°—ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— â†’ ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚¢ãƒ¼ãƒˆæ’®å½± â†’ ãƒ•ãƒªãƒãƒã‚§ãƒƒã‚¯",5:"16:00 é–‹å§‹ â†’ ã‚«ãƒ•ã‚§ä¼‘æ†© â†’ æ¼¢æ±Ÿã•ã‚“ã½ï¼†æ’®å½± â†’ ã‚µãƒ³ã‚»ãƒƒãƒˆ",6:"18:30 é–‹å§‹ â†’ æ˜æ´K-Popã‚°ãƒƒã‚º â†’ SMTOWN/æ±Ÿå—ã‚¹ãƒãƒƒãƒˆ â†’ æ¼¢æ±ŸãƒŠã‚¤ãƒˆãƒ“ãƒ¥ãƒ¼",7:"10:00 å‡ºç™º â†’ ãƒ˜ã‚¤ãƒªæ•£ç­– â†’ ãƒ–ãƒ©ãƒ³ãƒã‚«ãƒ•ã‚§ â†’ ã‚®ãƒ£ãƒ©ãƒªãƒ¼æ’®å½±",8:"15:00 é–‹å§‹ â†’ ãƒ†ãƒ¼ãƒã‚«ãƒ•ã‚§ â†’ ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚²ãƒ¼ãƒ ã‚·ãƒ§ãƒƒãƒ— â†’ ãƒ•ã‚©ãƒˆã‚¹ãƒãƒƒãƒˆ",9:"17:00 é–‹å§‹ â†’ é§±å±±ãƒ©ã‚¤ãƒˆã‚¦ã‚©ãƒ¼ã‚¯ â†’ åŸéƒ­ã®å¤œé“",10:"16:30 é–‹å§‹ â†’ é˜è·¯ã®éŸ“å±‹è·¯åœ° â†’ å¤•æ™¯æ’®å½±",11:"08:00 é›†åˆ â†’ ãƒˆãƒ¬ã‚¤ãƒ«ãƒ˜ãƒƒãƒ‰ã¸ç§»å‹• â†’ ãƒã‚¤ã‚­ãƒ³ã‚°/ã‚½ã‚¦ãƒ«å±•æœ› â†’ ä¸‹å±±ï¼†ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥"}
  };

  function formatDurationLocal(dur, locale){
    const n = String(dur).replace(/h/g,'');
    if(locale==='kr') return n + 'ì‹œê°„';
    if(locale==='ja') return n + 'æ™‚é–“';
    if(locale==='zh') return n + 'å°æ—¶';
    if(locale==='zhHant') return n + 'å°æ™‚';
    if(locale==='es') return n + ' h';
    return dur;
  }

  const AREA_KEYS = ['Seoul','Gyeonggi','Various','Hangang','Hongdae','Jongno','Naksan','Fortress','Myeongdong','Gangnam','DDP','Euljiro','Seongsu','Ikseon','Bukchon','Paju (Heyri)','Bukhansan','Inwangsan'];
  const AREA_MAP = {
    kr:{Seoul:'ì„œìš¸',Gyeonggi:'ê²½ê¸°',Various:'ë‹¤ì–‘í•œ ì§€ì—­',Hangang:'í•œê°•',Hongdae:'í™ëŒ€',Jongno:'ì¢…ë¡œ',Naksan:'ë‚™ì‚°',Fortress:'ì„±ê³½',Myeongdong:'ëª…ë™',Gangnam:'ê°•ë‚¨',DDP:'DDP',Euljiro:'ì„ì§€ë¡œ',Seongsu:'ì„±ìˆ˜',Ikseon:'ìµì„ ',Bukchon:'ë¶ì´Œ','Paju (Heyri)':'íŒŒì£¼(í—¤ì´ë¦¬)',Bukhansan:'ë¶í•œì‚°',Inwangsan:'ì¸ì™•ì‚°'},
    en:{},
    es:{Seoul:'SeÃºl',Gyeonggi:'Gyeonggi',Various:'Varios',Hangang:'Han',Hongdae:'Hongdae',Jongno:'Jongno',Naksan:'Naksan',Fortress:'Muralla',Myeongdong:'Myeongdong',Gangnam:'Gangnam',DDP:'DDP',Euljiro:'Euljiro',Seongsu:'Seongsu',Ikseon:'Ikseon',Bukchon:'Bukchon','Paju (Heyri)':'Paju (Heyri)',Bukhansan:'Bukhansan',Inwangsan:'Inwangsan'},
    zh:{Seoul:'é¦–å°”',Gyeonggi:'äº¬ç•¿',Various:'å¤šåœ°åŒº',Hangang:'æ±‰æ±Ÿ',Hongdae:'å¼˜å¤§',Jongno:'é’Ÿè·¯',Naksan:'éª†å±±',Fortress:'åŸéƒ­',Myeongdong:'æ˜æ´',Gangnam:'æ±Ÿå—',DDP:'DDP',Euljiro:'ä¹™æ”¯è·¯',Seongsu:'åœ£æ°´',Ikseon:'ç›Šå–„',Bukchon:'åŒ—æ‘','Paju (Heyri)':'å¡å·(Heyri)',Bukhansan:'åŒ—æ±‰å±±',Inwangsan:'ä»ç‹å±±'},
    zhHant:{Seoul:'é¦–çˆ¾',Gyeonggi:'äº¬ç•¿',Various:'å¤šåœ°',Hangang:'æ¼¢æ±Ÿ',Hongdae:'å¼˜å¤§',Jongno:'é˜è·¯',Naksan:'é§±å±±',Fortress:'åŸéƒ­',Myeongdong:'æ˜æ´',Gangnam:'æ±Ÿå—',DDP:'DDP',Euljiro:'ä¹™æ”¯è·¯',Seongsu:'è–æ°´',Ikseon:'ç›Šå–„',Bukchon:'åŒ—æ‘','Paju (Heyri)':'å¡å·(Heyri)',Bukhansan:'åŒ—æ¼¢å±±',Inwangsan:'ä»ç‹å±±'},
    ja:{Seoul:'ã‚½ã‚¦ãƒ«',Gyeonggi:'äº¬ç•¿',Various:'å„æ‰€',Hangang:'æ¼¢æ±Ÿ',Hongdae:'å¼˜å¤§',Jongno:'é˜è·¯',Naksan:'é§±å±±',Fortress:'åŸéƒ­',Myeongdong:'æ˜æ´',Gangnam:'æ±Ÿå—',DDP:'DDP',Euljiro:'ä¹™æ”¯è·¯',Seongsu:'è–æ°´',Ikseon:'ç›Šå–„',Bukchon:'åŒ—æ‘','Paju (Heyri)':'å¡å·(ãƒ˜ã‚¤ãƒª)',Bukhansan:'åŒ—æ¼¢å±±',Inwangsan:'ä»ç‹å±±'}
  };
  function localizeArea(area, locale){
    let out = area;
    const map = AREA_MAP[locale]||{};
    AREA_KEYS.forEach(k=>{ if(map[k]){ var re = new RegExp(k,'g'); out = out.replace(re, map[k]); } });
    return out;
  }

  function localizeMeet(meet, locale){
    var lower = meet.toLowerCase();
    if(lower.indexOf('to be confirmed (varies by pop-up)')>-1){
      if(locale==='kr') return 'ë³€ë™(íŒì—…ë³„ ìƒì´)';
      if(locale==='es') return 'Por confirmar (segÃºn pop-up)';
      if(locale==='zh') return 'å¾…å®šï¼ˆä¾å¿«é–ƒè€Œç•°ï¼‰';
      if(locale==='zhHant') return 'å¾…å®šï¼ˆå› å¿«é–ƒè€Œç•°ï¼‰';
      if(locale==='ja') return 'æœªå®šï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã«ã‚ˆã‚Šç•°ãªã‚‹ï¼‰';
      return meet;
    }
    if(lower.indexOf('to be confirmed(route/season)')>-1 || lower.indexOf('to be confirmed (route/season)')>-1){
      if(locale==='kr') return 'í™•ì • ì˜ˆì •(ë…¸ì„ /ì‹œì¦Œ)';
      if(locale==='es') return 'Por confirmar (ruta/temporada)';
      if(locale==='zh') return 'å¾…å®šï¼ˆè·¯çº¿/å­£èŠ‚ï¼‰';
      if(locale==='zhHant') return 'å¾…å®šï¼ˆè·¯ç·š/å­£ç¯€ï¼‰';
      if(locale==='ja') return 'æœªå®šï¼ˆãƒ«ãƒ¼ãƒˆ/å­£ç¯€ï¼‰';
      return meet;
    }
    if(meet.indexOf('Heyri Art Village Gate')>-1){
      if(locale==='kr') return 'í—¤ì´ë¦¬ ì•„íŠ¸ë¹Œë¦¬ì§€ ì •ë¬¸';
      if(locale==='es') return 'Puerta de Heyri Art Village';
      if(locale==='zh') return 'Heyriè‰ºæœ¯æ‘ å¤§é—¨';
      if(locale==='zhHant') return 'Heyriè—è¡“æ‘ å¤§é–€';
      if(locale==='ja') return 'ãƒ˜ã‚¤ãƒªãƒ»ã‚¢ãƒ¼ãƒˆãƒ“ãƒ¬ãƒƒã‚¸æ­£é–€';
      return meet;
    }
    var m = meet.match(/^(.*) Station Exit ([0-9]+)/);
    if(m){
      var station = m[1].trim();
      var exit = m[2];
      if(locale==='kr') return (station + 'ì—­ ' + exit + 'ë²ˆ ì¶œêµ¬');
      if(locale==='ja') return (station + 'é§… ' + exit + 'ç•ª å‡ºå£');
      if(locale==='zh') return (station + 'ç«™ ' + exit + 'å·å‡ºå£');
      if(locale==='zhHant') return (station + 'ç«™ ' + exit + 'è™Ÿå‡ºå£');
      if(locale==='es') return (station + ' EstaciÃ³n Salida ' + exit);
      return (station + ' Station Exit ' + exit);
    }
    return meet;
  }

  function getSchedule(t, locale){
    var num = Number(String(t.id).replace(/[^0-9]/g,''));
    return (I18N_SCHEDULES[locale] && I18N_SCHEDULES[locale][num]) || t.schedule;
  }

  // Initial render
  renderAllButHeader();
  </script>
</body>
</html>
